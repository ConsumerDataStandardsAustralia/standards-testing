,,string,array:string,array:string,assertionPredicate,string,,array:reference,
,ID,Title,Given [],When [],Then [],Severity,+/-,References,Questions
1,A.CPG.001,Validate pagination - LinksPaginated ,the page parameter is included in a GET request,"the page value is a number and page-size is [1,25,1000,null]","the nominated <page number> is returned
AND the response has a status of 200
AND the ""first"" link has page=1
AND the ""last"" link is greater than or equal to 1
AND the ""self"" link has page=<page number>
AND the ""prev"" link has page equal to 1 or <page number> - 1
AND the ""prev"" link has page equal to ""last"" or <page number> + 1
AND ""meta""/""totalPages"" is greater than or equal to <page number>
AND ""meta""/""totalRecords"" is greater than or equal to <page number> * <page size>",FAIL,POSITIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#pagination,
2,A.CPG.002,Validate pagination - Invalid page size value,the <page-size> parameter is specified in a GET request,"the value for <page-size> is outside the range [1..1000]
OR the <page-size> is a not a positive integer","the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Field/InvalidPageSize""",FAIL,NEGATIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#error-codes,
3,A.CPG.003,Validate pagination - Non-numeric <page>,the <page> parameter is included in a GET request,the <page> is a not a positive integer,"the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Field/Invalid""",FAIL,NEGATIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#error-codes,
4,A.CPG.004,Validate pagination - Max record limit exceeded,the <page> parameter is included in a GET request,the <page> value is greater than the number of pages available ,"the response has a status of 422
AND the response body has ErrorListReponse object
AND the error code is ""Field/InvalidPage""",FAIL,NEGATIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#error-codes,
5,A.CPG.005,Validate pagination - Non-numeric <page-size>,the <page-size> parameter is included in a GET request,the page size parameter value is not a positive integer (number),"the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Field/Invalid""",FAIL,NEGATIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#error-codes,
6,A.CVN.001,Validate version - valid version number [x-v],the <x-v> header is included in a get request,the value for the <x-v> is a positive integer,"the response has a status of 200
AND <x-v> is in the repsonse header
AND <x-v> is a positive integer",FAIL,POSITIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers,
7,A.CVN.002,Validate version - invalid version value [x-v],the version parameter is included in a GET request,"the version value is not a valid number is [-1,0,1001]","the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Field/Invalid""",FAIL,NEGATIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers,
8,A.CVN.003,Validate version - validate [x-v] format,the version parameter is included in a GET request,"the verison value is not a valid number is an alpha (e.g. ""foo"")","the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Field/Invalid""",FAIL,NEGATIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers,
9,A.CVN.004,Validate version - supported version without <x-v-min>,"the <x-v>  is included in a  request header
AND <x-v-min> is NOT included",the request version <x-v> is not supported,"the response has a status of 406
AND the response body has ErrorListReponse object
AND error code is ""Header/UnsupportedVersion""",FAIL,NEGATIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers,
10,A.CVN.005,Validate version - supported version with <x-v-min>,"the <x-v>  is included in a  request header
AND <x-v-min> is included",no version between <x-v> and <x-min-v> is supported,"the response has a status of 406
AND the response body has ErrorListReponse object
AND error code is ""Header/UnsupportedVersion""",FAIL,NEGATIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers,
11,A.CVM.001,Validate version - <x-v-min> is provided,the <x-v-min> header is included in a get request,the value for the <x-v-min>  is a positive integer,"<x-v> is in the repsonse header
AND  <x-v> = [<x-v-min>, <x-v>]
AND <x-v> is a positive integer",FAIL,POSITIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers,
12,A.CVM.002,Validate minimum version - validate <x-v-min> format,the <x-v-min> header is included in a get request,the <x-min-v> is a not a positive integer,"the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Field/Invalid""",FAIL,NEGATIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers,
13,A.CFI.001,Validate FAPI Interation ID - included in request,the <x-fapi-interaction-id> is included in the header of the request,the <x-fapi-interaction-id> is in a valid format ,"the response has a status of 200
AND the Data Holder has returned the <x-fapi-interaction-id> from the request in the response header",FAIL,POSITIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers,
14,A.CFI.003,Validate FAPI Interation ID - invalid format,the <x-fapi-interaction-id> is included in the GET request,the <x-fapi-interaction-id> is not in a valid format ,"the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Header/invalid""",FAIL,NEGATIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers,
15,A.CFA.001,Validate FAPI Auth date - valid format,the called API is a resource call and does require authentication,"the <x-fapi-auth-date> is present in the request header
AND is in a valid format",the response has a status of 200,FAIL,POSITIVE,"uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers
uri=https://openid.net/specs/openid-financial-api-part-1-ID2.html
uri=https://datatracker.ietf.org/doc/html/rfc7231#page-90",
16,A.CFA.002,Validate FAPI Auth date - missing from header,the called API is a resource call and does require authentication,the <x-fapi-auth-date> is NOT present  in the request header,"the response has a status of 400
AND error code is ""Header/missing""",FAIL,NEGATIVE,"uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers
uri=https://openid.net/specs/openid-financial-api-part-1-ID2.html
uri=https://datatracker.ietf.org/doc/html/rfc7231#page-90",
17,A.CFA.003,Validate FAPI Auth date - invalid format,the called API is a resource call and does require authentication,"the <x-fapi-auth-date> is  in the request header
AND is NOT in a valid format","the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Header/invalid""",FAIL,NEGATIVE,"uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers
uri=https://openid.net/specs/openid-financial-api-part-1-ID2.html
uri=https://datatracker.ietf.org/doc/html/rfc7231#page-90",
18,A.CFA.010,No<x-fapi-auth-date> in header (Energy specific),the call is from a DH to a SDH,a response is returned,the <x-fapi-auth-date> is NOT present in the response header,FAIL,POSITIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#energy,
19,A.CFA.011,No <x-fapi-customer-ip-address> in header (Energy specific),the call is from a DH to a SDH,a response is returned,the <x-fapi-customer-ip-address> is NOT present in the response header,FAIL,POSITIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#energy,
20,A.CFA.012,No <x-cds-client-header> in header (Energy specific),the call is from a DH to a SDH,a response is returned,the <x-cds-client-header> is NOT present in the response header,FAIL,POSITIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#energy,
21,A.CFC.001,Validate FAPI Customer IP Address - is present,the called API requires authentication,"the <x-fapi-customer-ip-address> is present in the request header
AND is in a valid IPv4 or IPv6 format",the response has a status of 200,FAIL,POSITIVE,"uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers
uri=https://consumerdatastandardsaustralia.github.io/standards/#authentication-flows","this is subject to dates where there is likely to be changes as the FAPI v1.0 profile is transitioned in, where should these dates be captured?"
22,A.CFC.003,Validate FAPI Customer IP Address - missing from header,the called API requires authentication,the <x-fapi-customer-ip-address> is NOT present in the request header,"the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Header/Missing""",FAIL,NEGATIVE,"uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers
uri=https://consumerdatastandardsaustralia.github.io/standards/#authentication-flows","is it possible to validate the IP address, the spec in NFR definitions, suggests the value should be validated but how?"
23,A.CFC.002,Validate FAPI Customer IP Address - invalid format,the called API requires authentication,"the <x-fapi-customer-ip-address> in present the request header
AND is NEITHER  in a valid IPv4 or IPv6 format","the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Header/invalid""",FAIL,POSITIVE,"uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers
uri=https://consumerdatastandardsaustralia.github.io/standards/#authentication-flows","this is subject to dates where there is likely to be changes as the FAPI v1.0 profile is transitioned in, where should these dates be captured?"
24,A.CCH.001,Validate the client headers - valid format,"the called API requires authentication
AND the call is an attended, ie customer present, call","the <x-cds-client-headers> is present in the request header
AND is Base64 encoded",the response has a status of 200,FAIL,POSITIVE,"uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers
uri=https://consumerdatastandardsaustralia.github.io/standards/#authentication-flows
uri=https://consumerdatastandardsaustralia.github.io/standards/#common-field-types",
25,A.CCH.002,Validate the client headers - missing from header,"the called API requires authentication
AND the call is an attended, ie customer present, call",the <x-cds-client-headers> is NOT present in the request header,"the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Header/missing""",FAIL,NEGATIVE,"uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers
uri=https://consumerdatastandardsaustralia.github.io/standards/#authentication-flows
uri=https://consumerdatastandardsaustralia.github.io/standards/#common-field-types",is it possible to test for the base64 format?  Is an error in format simply a 400 error?
26,A.CCH.003,Validate the client headers - invalid format,"the called API requires authentication
AND the call is an attended, ie customer present, call","the <x-cds-client-headers>  present the request header
AND is Not Base64 encoded","the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Header/Invalid""",FAIL,NEGATIVE,"uri=https://consumerdatastandardsaustralia.github.io/standards/#http-headers
uri=https://consumerdatastandardsaustralia.github.io/standards/#authentication-flows
uri=https://consumerdatastandardsaustralia.github.io/standards/#common-field-types",
27,A.CAI.001,  (Energy specific)CDS arrangement id - present and valid,the call is from a DH to a SDH,"the <x-cds-arrangement> is present in the request header
AND is in a valid format",the response has a status of 200,FAIL,POSITIVE,"uri=https://consumerdatastandardsaustralia.github.io/standards/#energy
uri=https://consumerdatastandardsaustralia.github.io/standards/#identifiers-and-subject-types",
28,A.CAI.002,CDS arrangement id - missing from header  (Energy specific),the call is from a DH to a SDH,the <x-cds-arrangement> is NOT present in the request header,"the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Header/Missing""",FAIL,NEGATIVE,"uri=https://consumerdatastandardsaustralia.github.io/standards/#energy
uri=https://consumerdatastandardsaustralia.github.io/standards/#identifiers-and-subject-types",the response has a status of xxx? Is it possible to test the format and produce a specific error?
29,A.CAI.003,CDS arrangement id - present but invalid (Energy specific),the call is from a DH to a SDH,"the <x-cds-arrangement> is present in the request header
AND is NOT in a valid format","the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Header/Invalid""",FAIL,NEGATIVE,"uri=https://consumerdatastandardsaustralia.github.io/standards/#energy
uri=https://consumerdatastandardsaustralia.github.io/standards/#identifiers-and-subject-types",
30,A.COD.001,Validate the Oldest Date parameter - valid format,the <oldest-date> is included as a query parameter,the <oldest-date> is in a valid DateString format,"the response has a status of 200
AND the data is constrained by the date supplied",FAIL,POSITIVE,,"this is considered common because it could potentially apply to more than just the energy sector, however the only reference is each energy API that permits the field, what is an apporpriate reference?"
31,A.COD.002,Validation the Oldest Date parameter - invalid format,the <oldest-date> is included as a query parameter,the <oldest-date> is not in a DateString valid format,"the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Field/invalid""",FAIL,NEGATIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#error-codes,
32,A.CND.001,Validate the Newest Date parameter - valid format,the <newest-date> is included as a query parameter,the <newest-date> is in a valid DateString format,"the response has a status of 200
AND the data is constrained by the date supplied",FAIL,POSITIVE,,
33,A.CND.002,Validation the Newest Date parameter - invalid format,the <newest-date> is included as a query parameter,the <newest-date> is not in a valid DateString format,"the response has a status of 400
AND the response body has ErrorListReponse object
AND error code is ""Field/Invalid""",FAIL,NEGATIVE,uri=https://consumerdatastandardsaustralia.github.io/standards/#error-codes,
34,,,,,,,,,
